(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{128:function(e,t,a){var o=a(833);"string"==typeof o&&(o=[[e.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(3)(o,s);o.locals&&(e.exports=o.locals)},1420:function(e,t,a){"use strict";var o=a(426);a.n(o).a},1421:function(e,t,a){(e.exports=a(2)(!1)).push([e.i,"\n.dropzone_wrapper[data-v-17c99ec8] {\n    width: 100%;\n}\n.align-left[data-v-17c99ec8] {\n    float: left;\n}\n.align-right[data-v-17c99ec8] {\n    float: right;\n}\n",""])},16:function(e,t,a){"use strict";t.a={validators:{checkbox:function(e,t,a){return e},sameas:function(e,t,a){return e==t}}}},1617:function(e,t,a){"use strict";a.r(t);var o=a(4),s=a.n(o),i=(a(827),a(1067),a(10)),r=a.n(i),n=a(16),l=a(9),d=(a(121),a(54));s.a.use(r.a,n.a);var c={name:"add_employee",data:function(){return{formstate:{},model:{name:"",email:"",phone_number:"",birthday:"",job:"waitress",state:"active",gender:"male",password:"",password_confirmation:"",previous_file:"",location_id:-1},show_error:!1,show_success:!1,validationErrors:[],locations:[]}},methods:{uploaded:function(){console.log("uploaded")},onSubmit:function(){var e=this;this.formstate.$invalid||l.a.post("admin/edit_employee",this.model).then((function(t){if(console.log(t),t.data.error)throw e.validationErrors=t.data.error,e.show_error=!0,e.show_success=!1,new Error("handled");e.show_error=!1,e.show_success=!0})).then((function(){setTimeout((function(){e.user=window.localStorage.getItem("user"),null!=e.user&&JSON.parse(e.user).id==e.model.user_id?(window.localStorage.removeItem("token"),window.localStorage.removeItem("user"),delete axios.defaults.headers.common.Authorization,e.$router.push({name:"login"})):"edit_user_dashboard"==e.$route.name?e.$router.push("/"):"edit_user_api"==e.$route.name?e.$router.push("/api"):e.$router.push("/employee_list")}),500)})).catch((function(t){e.show_error=!0,e.show_success=!1}))},getUserInfo:function(){var e=this;l.a.get("admin/get_employee/"+this.model.user_id).then((function(t){var a=t.data.employee,o=t.data.locations;e.model.email=a.email,e.model.name=a.name,e.model.phone_number=a.phone_number,e.model.birthday=a.birthday,e.model.job=a.job,e.model.state=a.state,e.model.gender=a.gender,e.model.previous_file=a.profile_picture,a.location_id&&(e.model.location_id=a.location_id),e.locations=o}))},form_reset:function(){this.model={name:"",email:"",phone_number:"",birthday:"",job:"waitress",state:"active",gender:"male",password:"",password_confirmation:""}}},beforeMount:function(){if(this.$route.params.user_id>0)this.model.user_id=this.$route.params.user_id;else{var e=window.localStorage.getItem("admin");this.model.user_id=JSON.parse(e).id}this.getUserInfo()},destroyed:function(){},components:{ImageInput:d.a}},m=(a(1420),a(1)),u=Object(m.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("b-card",{staticClass:"bg-success-card",attrs:{header:"Edit Employee","header-tag":"h4"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-12 mb-3"},[a("vue-form",{staticClass:"form-horizontal form-validation",attrs:{state:e.formstate},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("validate",{attrs:{tag:"div"}},[a("label",{attrs:{for:"name"}},[e._v(" Employee Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.name,expression:"model.name"}],staticClass:"form-control",attrs:{id:"name",name:"name",type:"text",required:"",autofocus:"",placeholder:"User Name"},domProps:{value:e.model.name},on:{input:function(t){t.target.composing||e.$set(e.model,"name",t.target.value)}}}),e._v(" "),a("field-messages",{staticClass:"text-danger",attrs:{name:"name",show:"$invalid && $submitted"}},[a("div",{attrs:{slot:"required"},slot:"required"},[e._v("Username is a required field")])])],1)],1)]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("validate",{attrs:{tag:"div"}},[a("label",{attrs:{for:"email"}},[e._v(" Email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.email,expression:"model.email"}],staticClass:"form-control",attrs:{name:"email",id:"email",type:"email",required:"",placeholder:"Email"},domProps:{value:e.model.email},on:{input:function(t){t.target.composing||e.$set(e.model,"email",t.target.value)}}}),e._v(" "),a("field-messages",{staticClass:"text-danger",attrs:{name:"email",show:"$invalid && $submitted"}},[a("div",{attrs:{slot:"required"},slot:"required"},[e._v("Email is a required field")]),e._v(" "),a("div",{attrs:{slot:"email"},slot:"email"},[e._v("Email is not valid")])])],1)],1)]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"phone_number"}},[e._v(" Phone Number")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.phone_number,expression:"model.phone_number"}],staticClass:"form-control",attrs:{name:"phone_number",id:"phone_number",type:"phone_number",required:"",placeholder:"Mobile Number(10 Digits)"},domProps:{value:e.model.phone_number},on:{input:function(t){t.target.composing||e.$set(e.model,"phone_number",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"col-lg-12 col-12 mt-4"},[a("div",{staticClass:"form-group"},[a("label",[e._v("\n                                           Profile Picture\n                                       ")]),e._v(" "),a("image-input",{attrs:{file:e.model.previous_file},model:{value:e.model.profile_picture,callback:function(t){e.$set(e.model,"profile_picture",t)},expression:"model.profile_picture"}})],1)])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"birthday"}},[e._v("Date Of Birth(optional)")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.birthday,expression:"model.birthday"}],staticClass:"form-control",attrs:{name:"birthday",id:"birthday",type:"date",required:"",placeholder:"Date of Birth(optional)"},domProps:{value:e.model.birthday},on:{input:function(t){t.target.composing||e.$set(e.model,"birthday",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("validate",{attrs:{tag:"div"}},[a("label",{attrs:{for:"location"}},[e._v("Restaurant Location")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.model.location_id,expression:"model.location_id"}],staticClass:"form-control",attrs:{id:"location",name:"location",size:"1",checkbox:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.model,"location_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:""}},[e._v("Select Restaurant Location for Employee")]),e._v(" "),e._l(e.locations,(function(t){return a("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2)])],1)]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("validate",{attrs:{tag:"div"}},[a("label",{attrs:{for:"job"}},[e._v("Job")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.model.job,expression:"model.job"}],staticClass:"form-control",attrs:{id:"job",name:"job",size:"1",checkbox:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.model,"job",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"kitchen",selected:""}},[e._v("Kitchen")]),e._v(" "),a("option",{attrs:{value:"cashier"}},[e._v("Cashier")])])])],1)]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("validate",{attrs:{tag:"div"}},[a("label",{attrs:{for:"gender"}},[e._v("Gender")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.model.gender,expression:"model.gender"}],staticClass:"form-control",attrs:{id:"gender",name:"gender",size:"1",checkbox:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.model,"gender",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"male",selected:"selected"}},[e._v("Male")]),e._v(" "),a("option",{attrs:{value:"female"}},[e._v("Female")])])])],1)]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("validate",{attrs:{tag:"div"}},[a("label",{attrs:{for:"state"}},[e._v("Employee State")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.model.state,expression:"model.state"}],staticClass:"form-control",attrs:{id:"state",name:"state",size:"1",required:"",checkbox:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.model,"state",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"active",selected:"selected"}},[e._v("Active")]),e._v(" "),a("option",{attrs:{value:"pending"}},[e._v("Pending")]),e._v(" "),a("option",{attrs:{value:"vocation"}},[e._v("Vocation")])]),e._v(" "),a("field-messages",{staticClass:"text-danger",attrs:{name:"gender",show:"$invalid && $submitted"}},[a("div",{attrs:{slot:"checkbox"},slot:"checkbox"},[e._v("Gender is required")])])],1)],1)]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v(" Password")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.password,expression:"model.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",required:"",placeholder:"Password"},domProps:{value:e.model.password},on:{input:function(t){t.target.composing||e.$set(e.model,"password",t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password_confirmation"}},[e._v(" Confirm Password")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.password_confirmation,expression:"model.password_confirmation"}],staticClass:"form-control",attrs:{id:"password_confirmation",name:"password_confirmation",type:"password",required:"",placeholder:"Confirm Password",sameas:e.model.password},domProps:{value:e.model.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.model,"password_confirmation",t.target.value)}}})])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show_error,expression:"show_error"}],staticClass:"col-sm-12"},[a("ul",e._l(e.validationErrors,(function(t){return a("li",{staticClass:"text-danger"},[e._v(e._s(t[0]))])})),0)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show_success,expression:"show_success"}],staticClass:"col-sm-12"},[a("ul",[a("li",{staticClass:"text-success"},[e._v("Your user record has been inserted successfully")])])]),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"col-md-offset-4 col-md-8 m-t-25"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Submit\n                                    ")]),e._v(" "),a("button",{staticClass:"btn btn-effect-ripple btn-secondary  reset_btn1",attrs:{type:"reset"},on:{click:e.form_reset}},[e._v("\n                                        Reset\n                                    ")])])])])])],1)])])],1)])}),[],!1,null,"17c99ec8",null);t.default=u.exports},426:function(e,t,a){var o=a(1421);"string"==typeof o&&(o=[[e.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(3)(o,s);o.locals&&(e.exports=o.locals)},54:function(e,t,a){"use strict";var o={name:"ImageInput",props:["file"],components:{},computed:{backgroundImage:function(){var e=null;return this.file&&!this.imageData&&(e=this.file),this.imageData&&(e=this.imageData),e}},data:function(){return{imageData:null}},methods:{chooseImage:function(){this.$refs.fileInput.click()},onSelectFile:function(){var e=this,t=this.$refs.fileInput.files;if(t&&t[0]){var a=new FileReader;a.onload=function(t){e.imageData=t.target.result,e.$emit("input",e.imageData)},a.readAsDataURL(t[0])}}},watch:{}},s=(a(832),a(1)),i=Object(s.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"base-image-input",style:{"background-image":"url('"+this.backgroundImage+"')"},on:{click:this.chooseImage}},[this.backgroundImage?this._e():t("span",{staticClass:"placeholder"},[this._v("\n  Choose an Image\n")]),this._v(" "),t("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file"},on:{input:this.onSelectFile}})])}),[],!1,null,"77d926cc",null);t.a=i.exports},832:function(e,t,a){"use strict";var o=a(128);a.n(o).a},833:function(e,t,a){(e.exports=a(2)(!1)).push([e.i,"\n.base-image-input[data-v-77d926cc] {\n    display: block;\n    width: 200px;\n    height: 200px;\n    cursor: pointer;\n    background-size: 100% 100%;\n    background-position: center center;\n}\n.placeholder[data-v-77d926cc] {\n    background: #F0F0F0;\n    width: 100%;\n    height: 100%;\n    display: -webkit-box;\n    display: flex;\n    -webkit-box-pack: center;\n            justify-content: center;\n    -webkit-box-align: center;\n            align-items: center;\n    color: #333;\n    font-size: 18px;\n    font-family: Helvetica;\n}\n.placeholder[data-v-77d926cc]:hover {\n    background: #E0E0E0;\n}\n.file-input[data-v-77d926cc] {\n    display: none;\n}\n",""])}}]);